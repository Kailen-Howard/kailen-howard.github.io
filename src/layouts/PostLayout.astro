---
import BaseLayout from './BaseLayout.astro';
import { formatDateTime, formatTimeSince } from '../utils/post';

const { post } = Astro.props;
const { title, description, pubDate, updatedDate, tags, ogImage } = post.data;
---

<BaseLayout
  title={`${title} | KailenHoward`}
  description={description}
  ogType="article"
  ogImage={ogImage ?? '/og-default.svg'}
  publishedTime={pubDate.toISOString()}
  updatedTime={updatedDate?.toISOString()}
>
  <article class="post-article">
    <header class="post-header">
      <p class="block-label">Article</p>
      <h1 class="post-title-large">{title}</h1>
      <p class="post-meta">
        <time datetime={pubDate.toISOString()} data-live-datetime>{formatDateTime(pubDate)}</time>
        <span aria-hidden="true"> Â· </span>
        <span data-live-since={pubDate.toISOString()}>{formatTimeSince(pubDate)}</span>
      </p>
      {tags.length > 0 && (
        <ul class="tag-list" aria-label="Tags">
          {tags.map((tag: string) => (
            <li>{tag}</li>
          ))}
        </ul>
      )}
    </header>
    <section class="prose">
      <slot />
    </section>
  </article>
</BaseLayout>
